package com.bedrockframework.plugin.timer{	/*	imports	*/	import flash.display.Sprite;	import com.bedrockframework.core.base.DispatcherWidget;	import com.bedrockframework.plugin.event.TriggerEvent;	import flash.utils.*;	/*	class	*/	public class Trigger extends DispatcherWidget	{		/*		Variables		*/		private static var NUM_TOTAL:Number = 0;		private var _numMilliseconds:Number;		private var _numSeconds:Number;		private var _numID:uint;		private var _strName:String;		private var _bolRunning:Boolean;		private var _numLoops:int;		private var _numIndex:Number;		/*		Constructor		*/		public function Trigger($name:String = null):void		{			Trigger.NUM_TOTAL +=1;			this._numID = NUM_TOTAL;			this._strName = $name;			this._bolRunning = false;			this._numLoops = -1;		}		/*		public functions		*/		public function start($delay:Number ,$loops:int = -1):void		{			if (!this._bolRunning) {				this.status("Start");				this._numSeconds = $delay;				this._numMilliseconds = $delay * 1000;				this._numID = setInterval(this.trigger, this._numMilliseconds);				this._numLoops = $loops;				this._numIndex = 0;				this._bolRunning = true;				this.dispatchEvent(new TriggerEvent(TriggerEvent.START, this, {id:this._numID, seconds:this._numSeconds, milliseconds:this._numMilliseconds, loops:this._numLoops}));			}		}		public function stop():void		{			if (this._bolRunning) {				this.status("Stop");				this._numIndex = 0;				this._bolRunning = false;				clearInterval(this._numID);				this.dispatchEvent(new TriggerEvent(TriggerEvent.STOP, this,{id:this._numID, seconds:this._numSeconds, milliseconds:this._numMilliseconds, loops:this._numLoops}));			}					}		public function trigger():void		{			this.dispatchEvent(new TriggerEvent(TriggerEvent.TRIGGER, this,{id:this._numID, index:this._numIndex, loops:this._numLoops}));			this._numIndex++;			if (this._numLoops > 0) {				if (this._numIndex >= this._numLoops) {					this.stop();				}			}		}		/*		Property Definitions		*/		public function get id():Number		{			return this._numID;		}		public function get delay():Number		{			return this.seconds;		}		public function get seconds():Number		{			return (this._numMilliseconds / 1000);		}		public function get milliseconds():Number		{			return this._numMilliseconds / 1000;		}		public function get loops():Number		{			return this._numLoops;		}		public function get totalTimers():Number		{			return NUM_TOTAL;		}		public function get running():Boolean		{			return this._bolRunning;		}		public function get elapsed():Number		{			return this._numIndex * this._numMilliseconds / 1000;		}	}}